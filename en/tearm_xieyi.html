<!DOCTYPE html>
<html lang="en">

<head>
    
    <meta charset="UTF-8">
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge"> -->
    <meta content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0" name="viewport" />
    <!-- <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"> -->
    <meta id="i18n_pagename" content="index-common">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css"/>
    <link rel="stylesheet" href="css/swiper-bundle.css"> 
    <link rel="stylesheet" type="text/css" href="css/nav.css"/>
    <link rel="stylesheet" type="text/css" href="css/banner.css"/>
    <link rel="stylesheet" type="text/css" href="css/footer.css"/>
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/swiper-bundle.min.js"> </script>
    <script src="js/jquery.i18n.properties.js"> </script>
    <script src="js/language.js"> </script>
    <script>
        (function(doc,win){
            const baseSize = 196
                function change(){
                    console.log(111)
                      // 当前页面宽度相对于 1920 宽的缩放比例，可根据自己需要修改。
                    const scale =
                        (document.documentElement.clientWidth) / 1920
                    // 设置页面根节点字体大小
                    const fontSize = baseSize * Math.min(scale, 2)
                    document.documentElement.style.fontSize = fontSize + 'px'
                }
                change();
                addEventListener('resize',change,false);
            })(document,window);
    </script>
    <title></title>
</head>
        <link rel="stylesheet" type="text/css" href="css/tearm_xieyi.css" />
</head>

<body>
    <div class="visible-lg-block">
    <div class="header_top"></div>
    <div class="top scrollTop-nav">
        <div class="container">
            <div class="logo"><img src="img/logo.png" /></div>
            <div class="nav navClick">
            </div>
            <div class="language p-language"><span language="zh-CN">中文</span>｜<span language="en">English</span></div>
            <!-- <select id="language">
                <option value="zh-CN">中文简体</option>
                <option value="en">English</option>
            </select> -->
        </div>
    </div>
</div>
<!-- 手机端导航 -->
<div class="visible-xs visible-sm visible-md" style="display: block;">
    <div class="header_top m_header_top"></div>
    <div class="top m_top scrollTop-nav">
        <div class="container m_container">
            <div class="m_logo"><img src="img/logo.png" /></div>
            <div class="m_nav m_nav_tap">
                <img src="img/m_nav_more.png"/>
            </div>
        </div>
    </div>
    <div class="m_nav_model">
        <div class="nav navClick m_nav_navigation">
        </div>
        <div class="m-language">
            <div language="zh-CN" class="item">
                中文
                <div class="line"></div>
            </div>
            <div language="en" class="item">English</div>
        </div>
    </div>
    <div class="clearfix"></div>
</div>
<script>
    $(document).ready(function () {
        let url = window.location.href;
        let urlArr = url.split('?');
        let appU = urlArr[0].split('/');
        let getUrl = appU[appU.length - 1]
        let nav_data = [
            {
                name: 'Overiew',
                i18nName: 'navOveriew',
                url: 'index.html'
            },
            {
                name: 'Learn',
                url: '',
                i18nName: 'navLearn',
                childen: [
                    {
                        name: '增强的中本聪共识协议',
                        i18nName: 'navLearnXieyi',
                        url: 'tearm_xieyi.html'
                    },
                    {
                        name: '状态存储',
                        i18nName: 'navLearnStorage',
                        url: 'tearm_storage.html'
                    },
                    {
                        name: '治理体系',
                        i18nName: 'navLearnTixi',
                        url: 'tearm_tixi.html'
                    },
                    {
                        name: 'Move,虚拟机和标准库',
                        i18nName: 'navLearnBzk',
                        url: 'tearm_bzk.html'
                    },
                    {
                        name: '安全的区块链',
                        i18nName: 'navLearnSecurity',
                        url: 'tearm_security.html'
                    },
                    {
                        name: '分层网络',
                        i18nName: 'navLearnNetwork',
                        url: 'tearm_network.html'
                    }
                ]
            },
            {
                name: 'News',
                i18nName: 'navNews',
                url: 'news.html'
            },
            {
                name: 'Developer',
                i18nName: 'navDeveloper',
                url: 'developer.html'
            },
            {
                name: 'About us',
                i18nName: 'navAbout',
                url: 'about_us.html'
            },
        ]
        var str = ''
        for (var i = 0; i < nav_data.length; i++) {
            let menuDom = ''
            let nav_childen = ''
            let leveClass = ""
            let navSelect = false
            if (nav_data[i].name === 'Learn') {
                for (var k = 0; k < nav_data[i].childen.length; k++) {
                    let isSelect = false
                    if (nav_data[i].childen[k].url === getUrl) {
                        isSelect = true
                        navSelect = true
                    } else {
                        isSelect = false
                    }
                    menuDom += `<div href="${nav_data[i].childen[k].url}" class="li ${isSelect ? 'active' : ''}"><a class="i18n" name="${nav_data[i].childen[k].i18nName}" href="javascript:void(0)">${nav_data[i].childen[k].name}</a></div>`
                }
                leveClass = 'allSelect';
                nav_childen = `<div class="more_nav">
                        <div class="box">
                            ${menuDom}
                        </div>
                    </div>`
            }
            if (nav_data[i].url) {
                str = `<div href="${nav_data[i].url}" class='item ${leveClass} ${nav_data[i].url === getUrl || getUrl === ''&& nav_data[i].url === 'index.html' || navSelect ? 'select' : ''}'><a class="i18n" name="${nav_data[i].i18nName}"  href="javascript:void(0)">${nav_data[i].name}</a></div>`
            } else  {
                str = `<div class='item ${leveClass} ${nav_data[i].url === getUrl && getUrl  || navSelect ? 'select' : ''}'><span class="i18n" name="${nav_data[i].i18nName}">${nav_data[i].name}</span></div>`
            }

            $(".navClick").append(str)
            $(".allSelect").append(nav_childen)
        }
        $(".navClick .item").click(function(){
            if($(this).attr("href")){
                window.open($(this).attr("href"),"_self")
            }
            
        })
        $(".more_nav .box .li").click(function(){
            if($(this).attr("href")){
                window.open($(this).attr("href"),"_self")
            }
            
        })
        $(".m_nav_navigation").find(".allSelect").click(function(){
            if($(this).attr("class").indexOf("m_tab_select") > -1){
                console.log($(this))
                $(this).removeClass("m_tab_select")

            }else{
                $(this).addClass("m_tab_select")
            }
            
            
        })
        
        $(".m_nav_tap").click(function(){
            if($(this).find("img").attr("src") == 'img/m_nav_more.png'){
                $(this).find("img").attr("src","img/m_nav_close.png")
                $(".m_nav_model").show()
                $(".m_nav_model").animate({height:"100%"});
                $(".scrollTop-nav").addClass("home-nav");
            }else{
                $(this).find("img").attr("src","img/m_nav_more.png")
                $(".scrollTop-nav").removeClass("home-nav");
                $(".m_nav_model").animate({height:"0%"});
                $(".m_nav_model").hide()
            }
           
            // $(".m_nav_model").show()
        })
    });
</script>
        <div class="container">
            <div class="tearm_xieyi">
                <div class="tearm_icon"><img src="img/bianzu_icon.png" /></div>
                <div class="title_h3 title_icon">
                    <img src="img/whatwedo@2x.png" />
                    <span>增强的中本聪共识协议</span>
                </div>
                <div class="info mt10">Starcoin
                    共识是一种比特币中本聪共识的增强版本。为了加快出块速度和降低交易确认时间，我们引入叔块率等运行期数据，对出块时间，难度，出块奖励进行动态调整，可以最大限度利用网络，减少用户等待时间。此外，我们还提供了区块链的动态调整能力，一些关键参数通过链上治理机制来实现配置修改。
                </div>
                <div class="info mt10">中本聪共识最早由比特币采用，也是区块链早期广泛使用的一种共识方法
                    [1]。目前为止中本聪共识是容错能力最好的公有链共识机制，其设计简单，通讯开销低，经过了数十年的验证。但是其吞吐能力较低，出块时间过长，用户体验较差。因此，我们选择了对中本聪共识进行加强，使得
                    Starcoin 具备以下的特性：</div>
                <div class="info padding_text_index mt10">
                    1、动态调整出块速度以及区块大小，在安全，网络吞吐，用户体验之间寻求平衡。<br>
                    2、共识相关的参数可通过社区治理，经合约升级。
                </div>
                <div class="h3">引入叔块 <span>#</span></div>
                <div class="info mt10">中本聪共识中，要提高网络吞吐，可以通过 (1) 增加区块大小，或 (2)
                    缩短出块间隔。这两种办法都会增大网络中竞争块出现的概率。而这些竞争块中，最多只有一个区块能够进入主链，为打包交易提升吞吐作出贡献，而其他块则成为孤块。区块越大，出块时间越短，孤块会越多，而孤块率增加会降低双花攻击的难度，所以我们需要将孤块率限制在一个阈值之内。
                </div>
                <div class="info mt10">我们在孤块基础上，引入叔块概念。首先，定义每 N 个块为一个 Epoch。当满足如下条时，则定义区块 B2 为 B1 的叔块：</div>
                <div class="info padding_text_index mt10">
                    1、在同一个 Epoch 内。<br>
                    2、B2 的父块属于 B1 的任一祖先。</div>
                <div class="info mt10">我们用 Epoch
                    内的叔块率评估网络的拥塞情况，并以此作为出块时间，出块大小调整的依据，实现充分利用网络，提升吞吐的同时，也可避免区块过大或者出块时间太短导致孤块过多，安全降低。</div>
                <div class="h3">动态出块时间调整 <span>#</span></div>
                <div class="info mt10">为了将叔块维持在一个合适的阈值内，在每个 Epoch 末，都会重新调整下一个周期的出块时间。</div>
                <div class="info mt10">
                    如果叔块率较高，则说当前的出块时间间隔下，网络中存在较多的分叉和孤块，我们需要调大出块的时间，缓解此问题。反之，则说明全网出块情况良好，还能进一步缩短出块时间，进一步提高全网吞吐。</div>
                <div class="info mt10">算法引入以下参数：</div>
                <div class="table">
                    <div class="head">
                        <div class="td">名称</div>
                        <div class="td">描述</div>
                    </div>
                    <div class="body">
                        <div class="tr">
                            <div class="td">epoch_avg_time</div>
                            <div class="td">上一个周期内的算数平均出块时间</div>
                        </div>
                        <div class="tr">
                            <div class="td">epoch_avg_time</div>
                            <div class="td">上一个周期内的算数平均出块时间</div>
                        </div>
                        <div class="tr">
                            <div class="td">epoch_avg_time</div>
                            <div class="td">上一个周期内的算数平均出块时间</div>
                        </div>
                        <div class="tr">
                            <div class="td">epoch_avg_time</div>
                            <div class="td">上一个周期内的算数平均出块时间</div>
                        </div>
                    </div>
                </div>
                <div class="info mt10">计算方式:</div>
                <div class="code_info mt20">next_time_target <span class="symbolColor">=</span> epoch_avg_time <span class="symbolColor">*</span> epoch_uncles_rate <span class="symbolColor">/</span> uncles_rate_target</div>
                <div class="h3">动态调整区块大小 <span>#</span></div>
                <div class="info mt10">我们希望区块的大小限制能根据网络情况来动态调节，而区块的大小和区块中所有交易使用掉的 Gas 成正比，所以我们通过调整区块的 Gas 限制来调整区块大小。</div>
                <div class="info mt20">针对一个 Epoch 内的所有区块 Gas 消耗统计，并结合出块速度，动态的调整区块 Gas 限制。当出块速度达到系统设置的最小值，全网拥塞情况处于良好，因此可以调大区块的 Gas 限制，增加区块大小；反之，当出块速度达到系统设置的最大值时，全网较为拥塞，因此需要降低区块的 Gas 限制，降低区块大小。</div>
                <div class="h3">动态难度调整机制  <span>#</span></div>
                <div class="info mt10">Starcoin 改进了中本聪共识的难度调整算法，使得:</div>
                <div class="info padding_text_index mt10">
                    1、反应更快速：当全网算力发生变化时，难度值能够快速做出反应。<br>
                    2、出块时间更稳定：在全网算力不变时，有的块偶发性的出快或者出慢，难度不应该剧烈的波动。
                </div>
                <div class="info mt10">通过以下办法进行改进:</div>
                <div class="info padding_text_index mt10">
                    1、根据叔块率调整出块时间从而调整下一个 Epoch 的难度。<br>
                    2、难度计算中引入区块高度做为权重，对平均出块时间的计算为高度加权的算术平均。<br>
                    3、使用更短的难度周期。
                </div>
                <div class="info mt10">算法引入以下参数:</div>
                <div class="table">
                    <div class="head">
                        <div class="td td_first">名称</div>
                        <div class="td td_last">描述</div>
                    </div>
                    <div class="body">
                        <div class="tr">
                            <div class="td td_first">block_time_target</div>
                            <div class="td td_last">下一 Epoch 的出块时间</div>
                        </div>
                        <div class="tr">
                            <div class="td td_first">n</div>
                            <div class="td td_last">难度调整周期内的区块数(小于 Epoch 内的区块数，初始值为 Epoch 区块数的十分之一)</div>
                        </div>
                        <div class="tr">
                            <div class="td td_first">next_target</div>
                            <div class="td td_last">下一周期的难度目标</div>
                        </div>
                        <div class="tr">
                            <div class="td td_first">block_target_i</div>
                            <div class="td td_last">高度为 i 的区块难度</div>
                        </div>
                        <div class="tr">
                            <div class="td td_first">block_time_i</div>
                            <div class="td td_last">高度为 i 的区块出块时间</div>
                        </div>
                    </div>
                </div>
                <div class="info mt10">计算方式:</div>
                <div class="code_info mt20">next_target <span class="symbolColor">=</span> avg_target <span class="symbolColor">*</span> avg_time <span class="symbolColor">/</span> block_time_target</div>
                <div class="info mt10">其中:</div>
                <div class="code_all_info mt20">
                    Arithmetic Mean avg_target<br>
                    avg_target <span class="symbolColor">=</span> (block_target_cur-n<span class="symbolColor">+</span><span class="numberColor">1</span> <span class="symbolColor">+</span> block_target_cur-n <span class="symbolColor">+</span>...<span class="symbolColor">+</span> block_target_cur) <span class="symbolColor">/</span> n<br><br>

                    Weighted Arithmetic Mean avg_time<br>
                    avg_time <span class="symbolColor">=</span> block_time_cur<span class="symbolColor">-</span>n<span class="">+</span><span class="numberColor">1</span> <span class="symbolColor">*</span> <span class="numberColor">1</span> <span class="symbolColor">+</span> block_time_cur<span class="symbolColor">-</span>n <span class="symbolColor">*</span> <span class="numberColor">2</span> <span class="symbolColor">+</span>...<span class="symbolColor">+</span> block_time_cur <span class="symbolColor">*</span> n <span class="symbolColor">/</span> ((n) <span class="symbolColor">*</span> (n<span class="symbolColor">+</span><span class="numberColor">1</span>) <span class="symbolColor">/</span> <span class="numberColor">2</span>)
                </div>
                <div class="h3">动态出块奖励调整  <span>#</span></div>
                <div class="info mt10">Starcoin 出块奖励的调整遵循如下原则：</div>
                <div class="info padding_text_index mt10">
                    1、奖励为难度 / 时间线性。根据下一个周期的出块时间，来动态调整出块奖励。<br>
                    2、分配一定比例的奖励给汇报叔块的区块。</div>
                <div class="info mt10">Starcoin 的动态调整的算法依赖叔块率的数据，而叔块信息需要矿工额外的付出成本去收集，为了奖励矿工在区块中汇报叔块信息，会分配一定的奖励给当前汇报叔块的矿工。</div>
                <div class="info mt10">叔块奖励计算方式：</div>
                <div class="code_all_info">
                    reward <span class="symbolColor">=</span> next_epoch_block_reward <span class="symbolColor">*</span> (<span class="numberColor">1</span> + reward_per_uncle_percent <span class="symbolColor">*</span> uncles)<br>
                    next_epoch_reward_block <span class="symbolColor">=</span> base_reward_per_block <span class="symbolColor">*</span> block_next_time_target <span class="symbolColor">/</span> base_time_target
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="footer  visible-lg">
    <div class="container">
        <div class="row hr">
            <div class="col-md-4 item">
                <a href="contact_us.html">联系我们</a>
            </div>
            <div class="col-md-4 item">
                技术
            </div>
            <div class="col-md-4 item">
                设计区
            </div>
        </div>
        <div class="row td">
            <div class="col-md-4 item">
                客服电话 400-4556-557
            </div>
            <div class="col-md-4 item">
                代币
            </div>
            <div class="col-md-4 item">
                代币
            </div>
        </div>
        <div class="row td">
            <div class="col-md-4 item">
                在线联系
            </div>
            <div class="col-md-4 item">
                线框图
            </div>
            <div class="col-md-4 item">
                线框图
            </div>
        </div>
        <div class="row td">
            <div class="col-md-4 item">
                更多服务
            </div>
            <div class="col-md-4 item">
                严控
            </div>
            <div class="col-md-4 item">
                严控
            </div>
        </div>
        <div class="foot">
            <div class="logo"><img src="img/logo.png" /></div>
            <div class="copyright">2021 Web3 starcoin | 版权所有。 印象派 | 免责声明 | Cookie设置</div>
        </div>
    </div>
</div>
<!-- 手机端显示 -->
<div class="m-footer visible-xs visible-sm visible-md">
    <div class="container">
        <div class="go-contact-us"><a href="contact_us.html">联系我们</a> <img src="img/r-arrow.png"/></div>
        <div class="row-li">
            <div class="item">
                客服电话 400-4556-557
            </div>
            <div class="item">
                技术
            </div>
        </div>
        <div class="row-li">
            <div class="item">
                在线联系
            </div>
            <div class="item">
                代币
            </div>
        </div>
        <div class="row-li">
            <div class="item">
                更多服务
            </div>
            <div class="item">
                线框图
            </div>
        </div>
        <div class="copyright">
            <div class="f-logo">
                <img src="img/logo.png"/>
            </div>
            <div class="r-a"><span>印象派</span><span>|</span><span>免责声明</span><span>|</span><span>Cookie设置</span></div>
        </div>
        <div class="crt">2021  Web3  starcoin | 版权备案号IC938449224</div>
    </div>

</div>

</body>

</html>